function tordsrch(o){if(o.value.length<3){return;}var d = document.getElementById("ddtarget");	url = "srchinitorder.php?io="+o.value;	query_srv( url, d );}function pordsrch(o){if(o.value.length<3){return;} var d2 = document.getElementById("csvgenlnk");	 d2.style.color = "#009";	 d2.style.cursor = "pointer";	 d2.style.pointerEvents = "auto";var d = document.getElementById("ddtarget");	url = "srchinporder.php?io="+o.value;	query_srv( url, d );}function csv_gen(o){var d1 = document.getElementById("srchiorder");	if(!d1.value){ alert("Purchase Order field is empty"); }	else{	var hr = "generate_porder.php?prd="+d1.value; //window.location.href;		window.location.href = hr;		}	return false;}function chckprchordfld(){	if(upurchord.srchiorder.value != ''){ return true; }	alert('Select initial purchase order!');	upurchord.srchiorder.focus();	return false;}function putorder(o){var d = document.getElementById("srchiorder");var t = document.getElementById("ddtarget");	d.value=o.id;	t.style.display = 'none';}/*document.getElementById("upfile").onclick = function(e) {  if (document.getElementById("csv").value == "") {    e.preventDefault();    alert("Please select a \".csv\" file to upload!");  }}*/function srchpord(o){	if(o.value.length<3){return;}	var d = document.getElementById("pordsrchresults");		d.style.display = "block";//		d.innerHTML = o.value;			var url = "srchqbpurchord.php?n="+o.value;				query_srv( url, d );		}function selsbx(o){	document.getElementById("srch_purchord").value = o.name;	document.getElementById("pordsrchresults").style.display = "none";	return false;}function look4sim(o){var bN = o.id;var oN;	if(bN.match(/^C1_\w+/g)){ 	oN=bN.replace(/^C1_/, "C2_"); 	}	if(bN.match(/^C2_\w+/g)){ 	oN=bN.replace(/^C2_/, "C1_"); 	}var d = document.getElementById(oN);	clr = d.style.backgroundColor;	d.style.backgroundColor = "ddd";return;}function lookout(o){var bN = o.id;var oN;	if(bN.match(/^C1_\w+/g)){ 	oN=bN.replace(/^C1_/, "C2_"); 	}	if(bN.match(/^C2_\w+/g)){ 	oN=bN.replace(/^C2_/, "C1_"); 	}var d = document.getElementById(oN);	d.style.backgroundColor = clr;return;}function recalculategp(){var v1 = parseFloat(document.getElementById("dbc_rs").value.replace(/,/,""));var v2 = parseFloat(document.getElementById("dbc_po").value.replace(/,/,""));var v3 = parseFloat(document.getElementById("dbc_rf").value.replace(/,/,""));var v4 = parseFloat(document.getElementById("dbc_wf").value.replace(/,/,""));var v5 = document.getElementById("dbc_swf");var v6 = document.getElementById("dbc_cwf");var v7 = document.getElementById("dbc_gpr");var v8 = document.getElementById("dbc_prs");var v9 = document.getElementById("dbc_rfts");var v10 = document.getElementById("dbc_wftc");var v11 = document.getElementById("dbc_rfms");var v12 = document.getElementById("dbc_wfmc");var v13 = document.getElementById("dbc_wfts");var v14 = document.getElementById("dbc_wfms");//	v1.value = v1.value.replace(/,/,"");	v7.value = (v1 - v2).toFixed(2);	v6.value = (v2 - v4).toFixed(2);	v5.value = (v1 - v3).toFixed(2);	v8.value = (v7.value/v1*100).toFixed(2);	v9.value = (v3/v1*100).toFixed(2);	v10.value = (v4/v2*100).toFixed(2);	v11.value = (v3/v5.value*100).toFixed(2);	v12.value = (v4/v6.value*100).toFixed(2);	v13.value = (v4/v1*100).toFixed(2);	v14.value = (v4/v5.value*100).toFixed(2);		return;}function shhdcsvcnt(){var d = document.getElementById("CSVCnt");	if(d.style.display == "block"){ d.style.display = "none"; }	else { d.style.display = "block"; }}function showDT(){	var d = new Date();	if(document.getElementById("stmp").style.display == "block"){	document.getElementById("stmp").style.display = "none";		document.getElementById("stmpbttn").value="Approve"; }	else{	document.getElementById("stmp").style.display = "block";	document.getElementById("CrntDT").innerHTML = d.toLocaleString();	document.getElementById("stmpbttn").value="Undo";	}//	document.getElementById("stmpbttn").style.display = "none";	return;}function refillfactors(o){inputs = document.getElementsByTagName('input');	for (index = 0; index < inputs.length; ++index) {		if(o.value.length>1 && inputs[index].name.match(/^f_/) && inputs[index].value!="0"){ 			inputs[index].value = o.value; 			recalcost(inputs[index]);			}		}//	recalcostall();	}function recalcost(o){	sku = o.name.replace(/^f_/, "");//	alert(sku);var a = document.getElementById("CRC_"+sku);	var b = document.getElementById("CRT_"+sku);var c = document.getElementById("LPR_"+sku);var q = document.getElementById("QTY_"+sku);	var	va = c.innerHTML.replace(/^\$/,"") * o.value;var vb = va * q.innerHTML;	a.innerHTML = "\$"+va.toFixed(2);	b.innerHTML = "\$"+vb.toFixed(2);//	recalcostall();	//	url = "recalcost.php?lp="+lpr+"&f="+o.value;//	query_srv( url, "CRC_"+sku );}function putbttn__________(o){	trg = o.name.replace(/^f_/, "CRC_");var d = document.getElementById(trg);	d.innerHTML = "";	//const container = document.getElementById(trg);const button = document.createElement("button");	button.innerText = "Recalc";	d.appendChild(button);	}function recalcostall(){var ttl = 0;inp = document.getElementsByTagName('input');	for (i = 0; i < inp.length; ++i) {		if(inp[i].name.match(/^f_/) && inp[i].value!="0"){ 		var	s = inp[i].name.replace(/^f_/, "CRT_");		var b = document.getElementById(s);		var m =	parseFloat(b.innerHTML.replace(/^\$/,""));//alert(m);			ttl += m;			}		}//alert(ttl);var fttl = document.getElementById("TTLCost");	fttl.innerHTML = ttl.toFixed(2);	}function takeshot___(dv) { 	let div = document.getElementById(dv); 	html2canvas(div).then( 		function (canvas) { 			document.getElementById('output').appendChild(canvas); 			}		) 	} function recalcostpoer(o){	sku = o.name.replace(/^fo_/, '');	eid = o.id.replace(/^fo_/, '');var a = document.getElementById("POC_"+eid);	var b = document.getElementById("POT_"+eid);var c = document.getElementById("LPR_"+sku);var q = document.getElementById("QTY_"+sku);	var	va = c.innerHTML.replace(/^\$/,"") * o.value;var vb = va * q.innerHTML;	a.innerHTML = "\$"+va.toFixed(2);	b.innerHTML = "\$"+vb.toFixed(2);	//	alert(sku);//	url = "recalcost.php?lp="+lpr+"&f="+o.value;//	query_srv( url, "POC_"+sku );return;}function showfactorfld(o){var dn = o.id.replace(/^lsku_/, 'fldiv_');var fn = o.id.replace(/^lsku_/, 'fo_');var dobj = document.getElementById(dn);	var fobj = document.getElementById(fn);	if(o.checked && fobj.value>0){dobj.style.display = 'block';}else {dobj.style.display = 'none';}	return;}function refillfactorspo(o){inputs = document.getElementsByTagName('input');	for (index = 0; index < inputs.length; ++index) {		if(o.value.length>1 && inputs[index].name.match(/^fo_/) && inputs[index].value!="0"){ 			inputs[index].value = o.value; 			recalcostpoer(inputs[index]);			}		}//	recalcostall();	}function recalcostallpo(){var ttl = stl = 0;inp = document.getElementsByTagName('input');	for (i = 0; i < inp.length; ++i) {		if(inp[i].name.match(/^fo_/)){ 		var	s = inp[i].id.replace(/^fo_/, "POT_");//		alert(s);		var b = document.getElementById(s);		var m =	parseFloat(b.innerHTML.replace(/^\$/,""));//alert(m);			ttl += m;			if(inp[i].value!="0"){ stl += m; }			}		}//alert(ttl);var fttl = document.getElementById("PoTotal");	fttl.innerHTML = 'Subtotal - '+stl.toFixed(2)+'<br>Total - '+ttl.toFixed(2);	}