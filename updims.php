<?phprequire_once('inc/_init.php');require_once('inc/functions/general.php');if($lghsh['Id'] == 0){	require_once('inc/functions/authorization.php'); 	$pgcontent = logform(); 	}include_once 'inc/functions.php';include_once 'wconfig.php';setlocale(LC_MONETARY, 'en_US');error_reporting(E_ERROR | E_WARNING | E_PARSE);ini_set('memory_limit', '84M');if(isset($_POST['dimsubmit'])){	foreach($_POST as $pk=>$pv){		if(preg_match('/(iweight_)([\d]{1,8})/', $pk, $m)){//			if(!$_POST['lock_'.$m[2]]){ 				update_post_meta($m[2], '_weight', $_POST['iweight_'.$m[2]] ); 				update_post_meta($m[2], '_length', $_POST['ilength_'.$m[2]] ); 				update_post_meta($m[2], '_width',  $_POST['iwidth_' .$m[2]] ); 				update_post_meta($m[2], '_height', $_POST['iheight_'.$m[2]] ); //				}			// if($_POST['iweight_'.$m[2]]>0){ update_post_meta($m[2], '_weight', $_POST['iweight_'.$m[2]] ); }			// if($_POST['ilength_'.$m[2]]>0){ update_post_meta($m[2], '_length', $_POST['ilength_'.$m[2]] ); }			// if($_POST['iwidth_' .$m[2]]>0){ update_post_meta($m[2], '_width',  $_POST['iwidth_' .$m[2]] ); }			// if($_POST['iheight_'.$m[2]]>0){ update_post_meta($m[2], '_height', $_POST['iheight_'.$m[2]] ); }//			echo $pk . ' - ' . $pv . ' - - - '. $m[2] .'<br>';}			}		if(preg_match('/(vweight_)([\d]{1,8})(_)(\d)(_)([\d]{1,8})/', $pk, $m)){//			if(!$_POST['lock_'.$m[2]]){ 				update_post_meta($m[6], '_weight', $_POST['vweight_'.$m[2].'_'.$m[4].'_'.$m[6]] );				update_post_meta($m[6], '_length', $_POST['vlength_'.$m[2].'_'.$m[4].'_'.$m[6]] );				update_post_meta($m[6], '_width',  $_POST['vwidth_' .$m[2].'_'.$m[4].'_'.$m[6]] );				update_post_meta($m[6], '_height', $_POST['vheight_'.$m[2].'_'.$m[4].'_'.$m[6]] );//				}			// if($_POST['vweight_'.$m[2]]>0){ update_post_meta($m[2], '_weight', $_POST['vweight_'.$m[2]] ); }			// if($_POST['vlength_'.$m[2]]>0){ update_post_meta($m[2], '_length', $_POST['vlength_'.$m[2]] ); }			// if($_POST['vwidth_' .$m[2]]>0){ update_post_meta($m[2], '_width',  $_POST['vwidth_' .$m[2]] ); }			// if($_POST['vheight_'.$m[2]]>0){ update_post_meta($m[2], '_height', $_POST['vheight_'.$m[2]] ); }//			echo $pk . ' - ' . $pv . ' - - - '. $m[2] .'<br>';}			}		}	// update_post_meta( 54856, '_weight', 20 );	// update_post_meta( 54856, '_length', 12 );	// update_post_meta( 54856, '_width', 30 );	// update_post_meta( 54856, '_height', 12 );}//if(isset($_POST['srch'])){//$lwh = mysqli_connect(DB_HOST, DB_USER, DB_PASSWORD, DB_NAME);$i=0;	$asds = 'DESC';	$trows = '';	$skusrch = (isset($_POST['swrd']))?$_POST['swrd']:1812;	$lmt = 100;	$ofs = 0;		$args = array(		'posts_per_page' => $lmt,		'offset'         => $ofs,		'post_status'    => 'publish',		'post_type'      => 'product',		'meta_query'     => array(			'sku_clause'  => array(				'key'     => '_sku',				'value'	  => $skusrch,				'compare' => 'LIKE',				)			),		'orderby'        => 'ID',		'order'          => $asds		);	$xdim = (isset($_POST['excw']))?$_POST['excw']:'';	$excls = explode(',', $xdim);		foreach($excls as $excl){echo $excl;		}	$items = get_posts( $args ); 	foreach($items as $ii){		$dfl=0;		foreach($excls as $excl){			if($excl AND preg_match("/$excl/", $ii->_sku)){ $dfl=1; }			}		if($dfl){continue;}//	if($xdim AND preg_match("/$xdim/", $ii->_sku)){continue;}		$product = wc_get_product( $ii->ID );	$vs = NULL;			$vv = ( $product->is_type( 'variable' ) )?'Variable':'Simple';		// if($product->is_type( 'variable' )){// //	$available_variations = $product->get_available_variations();	// foreach($available_variations as $var){	// $vs .= $var->_sku.' - ';// }	// //$vv = 'Variable';	// }			if ($product->is_type( 'variable' )) {//if (0) 	$vi = 0;	foreach( $product->get_children() as $key => $variation_id ) { ++$vi;		$variation = wc_get_product( $variation_id );   // Get an instance of the WC_Product_Variation Object				$vs .= '<table style="float: left;"><tr>   <td style="width: 120px;">'.$variation->sku.'</td><td><input style="float: left;" type="text" name="vweight_'.$ii->ID.'_'.$vi.'_'.$variation_id.'" value="'.$variation->get_weight().'" placeholder="Weight" title="Weight" /></td><td><input style="float: left;" type="text" name="vlength_'.$ii->ID.'_'.$vi.'_'.$variation_id.'" value="'.$variation->get_length().'" placeholder="Length" title="Length" /></td><td><input style="float: left;" type="text" name="vwidth_' .$ii->ID.'_'.$vi.'_'.$variation_id.'" value="'.$variation->get_width() .'" placeholder="Width"  title="Width"  /></td><td><input style="float: left;" type="text" name="vheight_'.$ii->ID.'_'.$vi.'_'.$variation_id.'" value="'.$variation->get_height().'" placeholder="Height" title="Height" /></td></tr></table>';		}	}			$trows .= '<tr><td>'.++$i.'.</td>	<td><a target="_blank" href="'.SITE_URL.'/wp-admin/post.php?post='.$ii->ID.'&action=edit#shipping_product_data ">'.$ii->ID.'</a></td>	<td>'.$ii->_sku.' <!-- input style="width: 20px; float: right;" type="checkbox" name="lock_'.$ii->ID.'" value="1" title="Lock item" OnChange="lockline(this);" / --></td>	<td><input type="text" name="iweight_'.$ii->ID.'" value="'.$product->get_weight().'" /></td>	<td><input type="text" name="ilength_'.$ii->ID.'" value="'.$product->get_length().'" /></td>	<td><input type="text" name="iwidth_' .$ii->ID.'" value="'.$product->get_width().'"  /></td>	<td><input type="text" name="iheight_'.$ii->ID.'" value="'.$product->get_height().'" /></td>	<td>'.$vv.'</td>	<td></td>	<td><a style="float: left; cursor: pointer;" name="cpy_'.$ii->ID.'" OnClick="CopyRow(this);" title="Copy to all">Copy</a>	'.$vs.'</td>	<td><img class="zclose" name="clr_'.$ii->ID.'" src="files/img/btnclosehover.png" OnClick="ClRow(this);" style="width: 15px; cursor: pointer;" title="Clear" /></td>	<td></td></tr>';			}//}//else {}	$pcnt = '<style>input{	width: 50px;}::placeholder { /* Chrome, Firefox, Opera, Safari 10.1+ */  color: #ccc;  opacity: 1; /* Firefox */}</style><form action="#" method="post" name="dr22" style="margin: 0px;"  dOnSubmit="return load_console(\'?qp=prepare\', \'80%\', \'80%\');" ><div style="position: fixed; top: 46px; right: 150px; z-index: 4500;"><input type="submit" name="dimsubmit" value="Update" /></div><table class="TBL" width="100%" cellspacing="1"><tr><th></th>	<th style="font-size: 13px;" colspan="2">Product</th>	<th style="font-size: 13px;" colspan="4">Weight / Dimensions</th>	<th style="font-size: 13px;" colspan="2"><input type="text"  style="width: 130px;" name="swrd" value="'.$skusrch.'" placeholder="Search" /></th>	<th style="text-align: left;"><input type="submit" name="srch" value="Search" />	<input type="text" style="width: 100px;" name="excw" value="'.$xdim.'" placeholder="Exclude" />	</th>	<th><img class="zclose" name="clr_all" src="files/img/btnclosehover.png" OnClick="ClAll();" style="width: 15px; cursor: pointer;" title="Clear All" /></th></tr><tr><th></th><th style="width: 20px;"><input type="checkbox" name="item2sendchkcnt" title="Check/Empty all" value="1" '.$dchk.' /></th>	<th style="width: 120px;">Sku</th>	<th style="width: 50px;">Weight lb</th>	<th style="width: 50px;">Length "</th>	<th style="width: 50px;">Width "</th>	<th style="width: 50px;">Height "</th>	<th style="width: 50px;"></th>	<th style="width: 50px;"></th>	<th>Product Variations</th>	<th></th></tr>'.$trows.'</table></form><script>function ClAll(){for(var i = 0; i < dr22.elements.length; i++) {	var inp = dr22.elements[i];	if(	inp.name.match("iweight_") ||		inp.name.match("ilength_") ||		inp.name.match("iwidth_")  ||		inp.name.match("iheight_") || 		inp.name.match("vweight_") ||		inp.name.match("vlength_") ||		inp.name.match("vwidth_")  ||		inp.name.match("vheight_")){ inp.value = ""; }	}return;}function ClRow(o){var rid = o.name.replace("clr_", "");	// var wtn = "iweight_"+rid;// var lnn = "ilength_"+rid;// var wdn = "iwidth_"+rid;// var htn = "iheight_"+rid;// var vwtn = "vweight_"+rid;// var vlnn = "vlength_"+rid;// var vwdn = "vwidth_"+rid;// var vhtn = "vheight_"+rid;	// dr22[wtn].value = "";	// dr22[lnn].value = "";	// dr22[wdn].value = "";	// dr22[htn].value = "";	// dr2[vwtn].value = "";	// dr2[vlnn].value = "";	// dr2[vwdn].value = "";	// dr2[vhtn].value = "";for(var i = 0; i < dr22.elements.length; i++) {	var inp = dr22.elements[i];	if(	inp.name.match("iweight_"+rid) ||		inp.name.match("ilength_"+rid) ||		inp.name.match("iwidth_" +rid) ||		inp.name.match("iheight_"+rid) || 		inp.name.match("vweight_"+rid) ||		inp.name.match("vlength_"+rid) ||		inp.name.match("vwidth_" +rid) ||		inp.name.match("vheight_"+rid)){ inp.value = ""; }	}return;//	alert(rid);}function CopyRow(o){var rid = o.name.replace("cpy_", "");var wtn = "iweight_"+rid;var lnn = "ilength_"+rid;var wdn = "iwidth_"+rid;var htn = "iheight_"+rid;var vt = dr22[wtn].value;var ln = dr22[lnn].value;var wd = dr22[wdn].value;var ht = dr22[htn].value;var vvt1="";var vln1="";var vwd1="";var vht1="";var vvt2="";var vln2="";var vwd2="";var vht2="";var vvt3="";var vln3="";var vwd3="";var vht3="";for(var i = 0; i < dr22.elements.length; i++) {var inp = dr22.elements[i];	if(inp.name.match("iweight_") && !inp.value && vt){ inp.value = vt; }	if(inp.name.match("ilength_") && !inp.value && ln){ inp.value = ln; }	if(inp.name.match("iwidth_")  && !inp.value && wd){ inp.value = wd; }	if(inp.name.match("iheight_") && !inp.value && ht){ inp.value = ht; }	if(inp.name.match("vweight_"+rid+"_1_")){ vvt1 = inp.value; }	if(inp.name.match("vlength_"+rid+"_1_")){ vln1 = inp.value; }	if(inp.name.match("vwidth_" +rid+"_1_")){ vwd1 = inp.value; }	if(inp.name.match("vheight_"+rid+"_1_")){ vht1 = inp.value; }	if(inp.name.match("vweight_"+rid+"_2_")){ vvt2 = inp.value; }	if(inp.name.match("vlength_"+rid+"_2_")){ vln2 = inp.value; }	if(inp.name.match("vwidth_" +rid+"_2_")){ vwd2 = inp.value; }	if(inp.name.match("vheight_"+rid+"_2_")){ vht2 = inp.value; }	if(inp.name.match("vweight_"+rid+"_3_")){ vvt3 = inp.value; }	if(inp.name.match("vlength_"+rid+"_3_")){ vln3 = inp.value; }	if(inp.name.match("vwidth_" +rid+"_3_")){ vwd3 = inp.value; }	if(inp.name.match("vheight_"+rid+"_3_")){ vht3 = inp.value; }	}for(var ii = 0; ii < dr22.elements.length; ii++) {var inp = dr22.elements[ii];	if(inp.name.match(/(vweight_)([\d]{1,8})(_1_)/) && !inp.value){ inp.value = vvt1; }	if(inp.name.match(/(vlength_)([\d]{1,8})(_1_)/) && !inp.value){ inp.value = vln1; }	if(inp.name.match(/(vwidth_)([\d]{1,8})(_1_)/ ) && !inp.value){ inp.value = vwd1; }	if(inp.name.match(/(vheight_)([\d]{1,8})(_1_)/) && !inp.value){ inp.value = vht1; }	if(inp.name.match(/(vweight_)([\d]{1,8})(_2_)/) && !inp.value){ inp.value = vvt2; }	if(inp.name.match(/(vlength_)([\d]{1,8})(_2_)/) && !inp.value){ inp.value = vln2; }	if(inp.name.match(/(vwidth_)([\d]{1,8})(_2_)/ ) && !inp.value){ inp.value = vwd2; }	if(inp.name.match(/(vheight_)([\d]{1,8})(_2_)/) && !inp.value){ inp.value = vht2; }	if(inp.name.match(/(vweight_)([\d]{1,8})(_3_)/) && !inp.value){ inp.value = vvt3; }	if(inp.name.match(/(vlength_)([\d]{1,8})(_3_)/) && !inp.value){ inp.value = vln3; }	if(inp.name.match(/(vwidth_)([\d]{1,8})(_3_)/ ) && !inp.value){ inp.value = vwd3; }	if(inp.name.match(/(vheight_)([\d]{1,8})(_3_)/) && !inp.value){ inp.value = vht3; }	}return;}function lockline(o){var rid = o.name.replace("lock_", "");var	wto = "iweight_"+rid;var lno = "ilength_"+rid;var wdo = "iwidth_"+rid;var hto = "iheight_"+rid;	if(o.checked){ 		dr22[wto].disabled = true; 		dr22[lno].disabled = true; 		dr22[wdo].disabled = true; 		dr22[hto].disabled = true; 		}	else{ 		dr22[wto].disabled = false; 		dr22[lno].disabled = false; 		dr22[wdo].disabled = false; 		dr22[hto].disabled = false; 		}}</script>';$pgtitle = '<h4>Listitems</h4>';$hsct = 'updims';$pgcontent = <<<EOD__<!-- Page content start -->$pcnt<!-- Page content end -->EOD__;require_once('inc/_shell.php'); /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////exit;	?>